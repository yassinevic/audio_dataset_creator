import{a as J,t as G}from"../chunks/disclose-version.asnYb6NB.js";import"../chunks/legacy.Hg8p_ZIx.js";import{x as La,L as Oa,at as la,o as Z,C as ct,q as Pa,K as Fa,ar as oa,Q as Ia,R as Xt,V as ut,B as Re,au as Oe,M as da,N as ca,O as Ma,Y as gt,z as Qt,av as mt,aw as Wt,ax as ht,ay as Ba,aq as za,az as Ua,aA as Ha,y as $a,an as Ka,ah as Ya,aB as Va,aa as qa,F as Zt,aC as Ja,ak as Ga,aD as Xa,aE as Qa,J as ea,aF as Wa,aG as Za,X as ua,v as es,p as ne,k as i,m as p,l as n,t as ee,j as ie,H as c,g as e,aH as O,i as Se,aI as bt,aJ as ve,a8 as Pe,aK as Fe,aL as xt,aM as vt,e as ts,aN as as,aO as ta}from"../chunks/runtime.Cw8BEO9w.js";import{d as ss,l as va,e as E,a as W,s as fa,b as ga,f as rs}from"../chunks/store.Dldw84-N.js";import{c as ns,p as H,o as Me,b as ba,i as pt}from"../chunks/index-client.DHXDOACy.js";import{i as le}from"../chunks/lifecycle.Bbdq90eq.js";import{w as _t}from"../chunks/index.BIGXUk0O.js";function Te(t,a){return a}function is(t,a,s,r){for(var l=[],x=a.length,u=0;u<x;u++)Ba(a[u].e,l,!0);var h=x>0&&l.length===0&&s!==null;if(h){var b=s.parentNode;za(b),b.append(s),r.clear(),de(t,a[0].prev,a[x-1].next)}Ua(l,()=>{for(var v=0;v<x;v++){var d=a[v];h||(r.delete(d.k),de(t,d.prev,d.next)),Ha(d.e,!h)}})}function Ae(t,a,s,r,l,x=null){var u=t,h={flags:a,items:new Map,first:null},b=(a&la)!==0;if(b){var v=t;u=Z?ct($a(v)):v.appendChild(La())}Z&&Pa();var d=null,D=!1;Oa(()=>{var _=s(),w=Fa(_)?_:_==null?[]:oa(_),y=w.length;if(D&&y===0)return;D=y===0;let j=!1;if(Z){var A=u.data===Ia;A!==(y===0)&&(u=Xt(),ct(u),ut(!1),j=!0)}if(Z){for(var N=null,T,m=0;m<y;m++){if(Re.nodeType===8&&Re.data===Ka){u=Re,j=!0,ut(!1);break}var f=w[m],k=r(f,m);T=pa(Re,h,N,null,f,k,m,l,a),h.items.set(k,T),N=T}y>0&&ct(Xt())}if(!Z){var B=Ya;ls(w,h,u,l,a,(B.f&Oe)!==0,r)}x!==null&&(y===0?d?da(d):d=ca(()=>x(u)):d!==null&&Ma(d,()=>{d=null})),j&&ut(!0),s()}),Z&&(u=Re)}function ls(t,a,s,r,l,x,u){var I,R,U,Y;var h=(l&Va)!==0,b=(l&(mt|ht))!==0,v=t.length,d=a.items,D=a.first,_=D,w,y=null,j,A=[],N=[],T,m,f,k;if(h)for(k=0;k<v;k+=1)T=t[k],m=u(T,k),f=d.get(m),f!==void 0&&((I=f.a)==null||I.measure(),(j??(j=new Set)).add(f));for(k=0;k<v;k+=1){if(T=t[k],m=u(T,k),f=d.get(m),f===void 0){var B=_?_.e.nodes_start:s;y=pa(B,a,y,y===null?a.first:y.next,T,m,k,r,l),d.set(m,y),A=[],N=[],_=y.next;continue}if(b&&os(f,T,k,l),f.e.f&Oe&&(da(f.e),h&&((R=f.a)==null||R.unfix(),(j??(j=new Set)).delete(f))),f!==_){if(w!==void 0&&w.has(f)){if(A.length<N.length){var P=N[0],z;y=P.prev;var X=A[0],C=A[A.length-1];for(z=0;z<A.length;z+=1)aa(A[z],P,s);for(z=0;z<N.length;z+=1)w.delete(N[z]);de(a,X.prev,C.next),de(a,y,X),de(a,C,P),_=P,y=C,k-=1,A=[],N=[]}else w.delete(f),aa(f,_,s),de(a,f.prev,f.next),de(a,f,y===null?a.first:y.next),de(a,y,f),y=f;continue}for(A=[],N=[];_!==null&&_.k!==m;)(x||!(_.e.f&Oe))&&(w??(w=new Set)).add(_),N.push(_),_=_.next;if(_===null)continue;f=_}A.push(f),y=f,_=f.next}if(_!==null||w!==void 0){for(var M=w===void 0?[]:oa(w);_!==null;)(x||!(_.e.f&Oe))&&M.push(_),_=_.next;var F=M.length;if(F>0){var $=l&la&&v===0?s:null;if(h){for(k=0;k<F;k+=1)(U=M[k].a)==null||U.measure();for(k=0;k<F;k+=1)(Y=M[k].a)==null||Y.fix()}is(a,M,$,d)}}h&&gt(()=>{var q;if(j!==void 0)for(f of j)(q=f.a)==null||q.apply()}),Qt.first=a.first&&a.first.e,Qt.last=y&&y.e}function os(t,a,s,r){r&mt&&Wt(t.v,a),r&ht?Wt(t.i,s):t.i=s}function pa(t,a,s,r,l,x,u,h,b){var v=(b&mt)!==0,d=(b&Ja)===0,D=v?d?qa(l):Zt(l):l,_=b&ht?Zt(u):u,w={i:_,v:D,k:x,a:null,e:null,prev:s,next:r};try{return w.e=ca(()=>h(t,D,_),Z),w.e.prev=s&&s.e,w.e.next=r&&r.e,s===null?a.first=w:(s.next=w,s.e.next=w.e),r!==null&&(r.prev=w,r.e.prev=w.e),w}finally{}}function aa(t,a,s){for(var r=t.next?t.next.e.nodes_start:s,l=a?a.e.nodes_start:s,x=t.e.nodes_start;x!==r;){var u=Ga(x);l.before(x),x=u}}function de(t,a,s){a===null?t.first=s:(a.next=s,a.e.next=s&&s.e),s!==null&&(s.prev=a,s.e.prev=a&&a.e)}function Ie(t){if(Z){var a=!1,s=()=>{if(!a){if(a=!0,t.hasAttribute("value")){var r=t.value;ke(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var l=t.checked;ke(t,"checked",null),t.checked=l}}};t.__on_r=s,Xa(s),ss()}}function ke(t,a,s,r){var l=t.__attributes??(t.__attributes={});Z&&(l[a]=t.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&t.nodeName==="LINK")||l[a]!==(l[a]=s)&&(a==="style"&&"__styles"in t&&(t.__styles={}),a==="loading"&&(t[Qa]=s),s==null?t.removeAttribute(a):typeof s!="string"&&ds(t).includes(a)?t[a]=s:t.setAttribute(a,s))}var sa=new Map;function ds(t){var a=sa.get(t.nodeName);if(a)return a;sa.set(t.nodeName,a=[]);for(var s,r=ea(t),l=Element.prototype;l!==r;){s=Wa(r);for(var x in s)s[x].set&&a.push(x);r=ea(r)}return a}function cs(t,a){var s=t.__className,r=ma(a);Z&&t.getAttribute("class")===r?t.__className=r:(s!==r||Z&&t.getAttribute("class")!==r)&&(r===""?t.removeAttribute("class"):t.setAttribute("class",r),t.__className=r)}function yt(t,a){var s=t.__className,r=ma(a);Z&&t.className===r?t.__className=r:(s!==r||Z&&t.className!==r)&&(a==null?t.removeAttribute("class"):t.className=r,t.__className=r)}function ma(t){return t??""}function S(t,a,s){if(s){if(t.classList.contains(a))return;t.classList.add(a)}else{if(!t.classList.contains(a))return;t.classList.remove(a)}}function wt(t,a,s=a){var r=Za();va(t,"input",()=>{var l=na(t)?ia(t.value):t.value;s(l),r&&l!==(l=a())&&(t.value=l??"")}),ua(()=>{var l=a();if(Z&&t.defaultValue!==t.value){s(t.value);return}na(t)&&l===ia(t.value)||t.type==="date"&&!l&&!t.value||l!==t.value&&(t.value=l??"")})}const ft=new Set;function us(t,a,s,r,l=r){var x=s.getAttribute("type")==="checkbox",u=t;let h=!1;if(a!==null)for(var b of a)u=u[b]??(u[b]=[]);u.push(s),va(s,"change",()=>{var v=s.__value;x&&(v=ra(u,v,s.checked)),l(v)},()=>l(x?[]:null)),ua(()=>{var v=r();if(Z&&s.defaultChecked!==s.checked){h=!0;return}x?(v=v||[],s.checked=v.includes(s.__value)):s.checked=ns(s.__value,v)}),es(()=>{var v=u.indexOf(s);v!==-1&&u.splice(v,1)}),ft.has(u)||(ft.add(u),gt(()=>{u.sort((v,d)=>v.compareDocumentPosition(d)===4?-1:1),ft.delete(u)})),gt(()=>{if(h){var v;if(x)v=ra(u,v,s.checked);else{var d=u.find(D=>D.checked);v=d==null?void 0:d.__value}l(v)}})}function ra(t,a,s){for(var r=new Set,l=0;l<t.length;l+=1)t[l].checked&&r.add(t[l].__value);return s||r.delete(a),Array.from(r)}function na(t){var a=t.type;return a==="number"||a==="range"}function ia(t){return t===""?null:+t}var Q=(t=>(t[t.ALL=-1]="ALL",t[t.PENDIND=0]="PENDIND",t[t.RECORDED=1]="RECORDED",t))(Q||{}),fe=(t=>(t.TRAIN="train",t.TEST="test",t.VALIDATION="validation",t))(fe||{}),De=(t=>(t.HAPPY="happy",t.SAD="sad",t.ANGRY="angry",t.FEARFUL="fearful",t.SURPRISED="surprised",t.DISGUSTED="disgusted",t.NEUTRAL="neutral",t))(De||{}),vs=G('<div><button aria-label="Play Audio" class="svelte-1328a6"><svg class=" w-5 h-5 svelte-1328a6"><use href="icons.svg#icon-play"></use></svg></button> <button aria-label="Pause Audio" class="svelte-1328a6"><svg class=" w-5 h-5 svelte-1328a6"><use href="icons.svg#icon-pause"></use></svg></button> <button aria-label="Stop Audio" class="svelte-1328a6"><svg class=" w-5 h-5 svelte-1328a6"><use href="icons.svg#icon-stop"></use></svg></button></div>');function fs(t,a){ne(a,!1);let s=null,r=O(!1),l=O(!1),x=H(a,"src",8,"");function u(){s||(s=new Audio(x()),s.onended=()=>{c(r,!1),c(l,!1)}),s.play(),c(r,!0),c(l,!1)}function h(){s&&(s.pause(),c(r,!1),c(l,!0))}function b(){s&&(s.pause(),s.currentTime=0,c(r,!1),c(l,!1))}le();var v=vs(),d=i(v),D=p(d,2),_=p(D,2);n(v),ee(()=>{d.disabled=e(r)||e(l),D.disabled=!e(r),_.disabled=!e(r)}),E("click",d,u),E("click",D,h),E("click",_,b),J(t,v),ie()}var gs=G('<div class="fixed inset-0 flex items-center justify-center z-50 backdrop-blur confirm-dialog"><div class="relative px-4 min-h-screen md:flex md:items-center md:justify-center"><div class=" opacity-25 w-full h-full absolute z-10 inset-0"></div> <div class="bg-white rounded-lg md:max-w-md md:mx-auto p-4 fixed inset-x-0 bottom-0 z-50 mb-4 mx-4 md:relative shadow-lg"><div class="md:flex items-center"><div class="rounded-full border border-gray-300 flex items-center justify-center w-16 h-16 flex-shrink-0 mx-auto"><i class="bx bx-error"><svg class=" w-6 h-6 text-red-600"><use href="icons.svg#icon-wrining"></use></svg></i></div> <div class="mt-4 md:mt-0 md:ml-6 text-center md:text-left"><p class="font-bold">Warning!</p> <p class="text-sm text-gray-700 mt-1">Are you sure you want to delete. This action cannot be undone.</p></div></div> <div class="text-center md:text-right mt-4 md:flex md:justify-end"><button id="confirm-delete-btn" class="block w-full md:inline-block md:w-auto px-4 py-3 md:py-2 bg-red-200 text-red-700 rounded-lg font-semibold text-sm md:ml-2 md:order-2">Delete</button> <button id="confirm-cancel-btn" class="block w-full md:inline-block md:w-auto px-4 py-3 md:py-2 bg-gray-200 rounded-lg font-semibold text-sm mt-4 md:mt-0 md:order-1">Cancel</button></div></div></div></div>');function Be(t,a){ne(a,!1);let s=H(a,"show",8,!1),r=H(a,"onConfirmed",8),l=H(a,"onRejected",8);function x(){r()({})}function u(){l()({})}le();var h=gs(),b=i(h),v=p(i(b),2),d=p(i(v),2),D=i(d),_=p(D,2);n(d),n(v),n(b),n(h),ee(()=>S(h,"hidden",!s())),E("click",D,x),E("click",_,u),J(t,h),ie()}const re=_t(),ha=_t([]),se=_t({msg:"",success:!1});var bs=G('<div class="flex"><button role="menuitem" class="cursor-pointer text-slate-800 flex w-full text-sm items-center rounded-md p-3 transition-all hover:bg-slate-100 focus:bg-slate-100 active:bg-slate-100"><svg class=" w-4 h-4 text-gray-400"><use href="icons.svg#icon-dataset"></use></svg> <div class="flex flex-col gap-1 ml-4 items-start"><p class="text-slate-800 font-medium"> </p> <p class="text-slate-500 text-sm flex items-center"><svg class=" w-4 h-4 text-gray-400"><use href="icons.svg#icon-clock"></use></svg> </p></div></button> <button aria-label="Delete this dataset" title="Delete this dataset" class="pr-2"><svg class=" w-5 h-5 text-red-700"><use href="icons.svg#icon-trash"></use></svg></button></div>'),ps=G('<!> <div class="flex flex-col"><div class="relative flex items-center"><span class="text-gray-400 pr-4"> </span> <button class="pt-1" title="Open dataset list" aria-label="Open dataset list"><svg class="h-6 w-6 text-gray-500"><use href="icons.svg#icon-drop-down"></use></svg></button></div> <div><div id="dataset-list" class="absolute z-10 bg-white border border-gray-300 rounded-lg mt-1 overflow-y-auto hidden"><div class="flex items-center border-b p-2 bg-white w-64"><input type="text" placeholder="Search or add dataset..." class="w-full px-4 py-2 text-sm text-gray-600 focus:outline-none"> <button class="text-gray-400" aria-labelledby="Add dataset" title="Add dataset"><svg class="h-5 w-5 text-gray-400"><use href="icons.svg#icon-plus"></use></svg></button></div> <!></div></div></div>',1);function ms(t,a){ne(a,!1);let s="",r=O(!1),l=O([]),x=O(),u=O(),h=O(),b=O(""),v=H(a,"onDatasetSelected",8);Me(()=>(D(),document.addEventListener("click",d),()=>{document.removeEventListener("click",d)}));function d(R){e(h).contains(R.target)||c(r,!1)}function D(){fetch(`${s}/get_datasets`).then(R=>R.json()).then(R=>{c(l,R.dataset??[]),c(l,[...e(l)].reverse())})}function _(R){c(x,R),c(r,!1),v()(e(x))}function w(){if(!e(b))return;const R=new FormData;R.append("dataset",e(b)),fetch(`${s}/add_dataset`,{method:"POST",body:R}).then(U=>U.json()).then(U=>{U.status==="success"?(c(b,""),D()):alert("Failed to save the recording.")})}function y(R){const U=new FormData;U.append("datasetId",R.id.toString()),U.append("datasetName",R.name),fetch(`${s}/delete_dataset`,{method:"POST",body:U}).then(Y=>Y.json()).then(Y=>{Y.status==="success"?(re.set({count:0,sentence:[],subDataSet:fe.TRAIN}),D()):alert("Failed to save the recording.")})}let j=O(!1);function A(){c(j,!1),c(u,null)}function N(){c(j,!1),e(u)!==null&&(y(e(u)),c(u,null))}le();var T=ps(),m=Se(T);Be(m,{get show(){return e(j)},onConfirmed:N,onRejected:A});var f=p(m,2),k=i(f),B=i(k),P=i(B,!0);n(B);var z=p(B,2);n(k);var X=p(k,2),C=i(X),M=i(C),F=i(M);Ie(F);var $=p(F,2);n(M);var I=p(M,2);Ae(I,1,()=>e(l),Te,(R,U)=>{var Y=bs(),q=i(Y),ge=p(i(q),2),oe=i(ge),be=i(oe,!0);n(oe);var pe=p(oe,2),ce=p(i(pe));n(pe),n(ge),n(q);var te=p(q,2);n(Y),ee(()=>{W(be,e(U).name),W(ce,` ${e(U).creation_date??""}`)}),E("click",q,()=>_(e(U))),E("click",te,()=>{c(u,e(U)),c(j,!0)}),J(R,Y)}),n(C),n(X),n(f),ba(f,R=>c(h,R),()=>e(h)),ee(()=>{var R;W(P,((R=e(x))==null?void 0:R.name)??"Select a Dataset"),S(C,"hidden",!e(r))}),E("click",z,()=>c(r,!e(r))),wt(F,()=>e(b),R=>c(b,R)),E("click",$,w),E("blur",f,()=>c(r,!1)),J(t,T),ie()}var hs=G('<div class="flex"><button role="menuitem" class="cursor-pointer text-slate-800 flex w-full text-sm items-center rounded-md p-3 transition-all hover:bg-slate-100 focus:bg-slate-100 active:bg-slate-100"><svg class=" w-4 h-4 text-gray-400"><use></use></svg> <div class="flex flex-col gap-1 ml-4 items-start"><p class="text-slate-800 font-medium"> </p></div></button></div>'),xs=G('<div class="flex flex-col"><div class="relative flex items-center"><button aria-label="Open dataset list"><svg><use></use></svg></button></div> <div><div id="dataset-list" class="absolute z-10 bg-white border border-gray-300 rounded-lg mt-1 overflow-y-auto hidden"></div></div></div>');function we(t,a){ne(a,!1);let s=O(!1),r=H(a,"entities",24,()=>[]),l=H(a,"disabled",8,!1),x=H(a,"title",8,""),u=H(a,"icon",8,""),h=H(a,"iconClass",8,"w-6 h-6 text-gray-400"),b=H(a,"buttonClass",8,"pt-1"),v=H(a,"onEntitySelected",8),d=O();function D(f){v()(f),c(s,!1)}function _(f){e(d).contains(f.target)||c(s,!1)}Me(()=>(document.addEventListener("click",_),()=>{document.removeEventListener("click",_)})),le();var w=xs(),y=i(w),j=i(y),A=i(j),N=i(A);n(A),n(j),n(y);var T=p(y,2),m=i(T);Ae(m,5,r,Te,(f,k)=>{var B=hs(),P=i(B),z=i(P),X=i(z);n(z);var C=p(z,2),M=i(C),F=i(M,!0);n(M),n(C),n(P),n(B),ee(()=>{ke(X,"href",`icons.svg#icon-${e(k).icon??""}`),W(F,e(k).label)}),E("click",P,()=>D(e(k))),J(f,B)}),n(m),n(T),n(w),ba(w,f=>c(d,f),()=>e(d)),ee(()=>{j.disabled=l(),ke(j,"title",x()),yt(j,b()),cs(A,h()),S(A,"hidden",!u()),ke(N,"href",`icons.svg#icon-${u()??""}`),S(m,"hidden",!e(s))}),E("click",j,()=>c(s,!e(s))),E("blur",w,()=>c(s,!1)),J(t,w),ie()}var _s=G('<li class="flex justify-between items-center border-b py-2"><div class="flex items-center gap-1"><!> <!> <span class="text-sm text-gray-700"> </span></div> <button aria-labelledby="Remove Audio File"><svg class=" w-5 h-5 text-red-700"><use href="icons.svg#icon-trash"></use></svg></button></li>'),ys=G('<div class="mt-4 space-y-2 w-full"><ul></ul></div>'),ws=G('<div class=" flex flex-col items-center justify-center p-4"><div role="button" tabindex="0"><svg class="h-10 w-10 text-gray-400"><use href="icons.svg#icon-uploader"></use></svg> <button class="text-gray-400 font-semibold text-sm">Drag & Drop or <span class="text-[#007bff]">Choose file</span> to upload</button> <input id="file-input" type="file" class="hidden" multiple> <p class="text-xs text-gray-400 mt-2">Only text files are Allowed.</p></div> <!></div> <div class="flex gap-4 px-4"><button type="button" class="w-full px-4 py-2 rounded-lg text-gray-800 text-sm border-none outline-none tracking-wide bg-gray-200 hover:bg-gray-300 active:bg-gray-200">Cancel</button> <button type="button" class="w-full px-4 py-2 rounded-lg text-white text-sm border-none outline-none tracking-wide bg-blue-600 hover:bg-blue-700 active:bg-blue-600">Import</button></div>',1);function ks(t,a){ne(a,!1);let s="",r=H(a,"dataset",8),l=H(a,"subDataset",8),x=H(a,"onFileUploded",8),u=H(a,"speakers",24,()=>[]),h=H(a,"emotions",24,()=>[]),b=O([]),v=O(!1);function d(C){var $;C.preventDefault(),c(v,!1);let F=Array.from((($=C==null?void 0:C.dataTransfer)==null?void 0:$.files)??[]).map(I=>{var R;return{file:I,emotion:De.NEUTRAL,speaker:((R=u()[0])==null?void 0:R.value)??1}});c(b,[...e(b),...F])}function D(){const C=e(b).filter(F=>F.file.type==="text/plain");let M="";C.forEach((F,$)=>{const I=new FileReader;I.onload=R=>{var Y;let U=(Y=R.target)==null?void 0:Y.result;if(M+=U+`
`,$===C.length-1){c(b,[]);let q=A(M.split(`
`),F.emotion,F.speaker);q=q.trim(),q!=""&&N(q,l(),r())}},I.readAsText(F.file)})}function _(C){let F=Array.from(C.target.files??[]).map($=>({file:$,emotion:De.NEUTRAL,speaker:u()[0].value}));c(b,[...e(b),...F])}function w(C){C.preventDefault(),c(v,!0)}function y(){c(v,!1)}function j(C){e(b).splice(C,1),c(b,[...e(b)])}function A(C,M,F){const $=C.filter(I=>I.trim()!=="").map((I,R)=>({transcription:I.trim(),emotion:M,speaker:F}));return JSON.stringify($,null,2)}function N(C,M,F){const $=new FormData;$.append("transcription",C),$.append("sub_dataset",M.toString()),$.append("dataset",F.id.toString()),fetch(`${s}/import_transcriptions`,{method:"POST",body:$}).then(I=>I.json()).then(I=>{if(I.status!=="success"){x()(!1);return}x()(!0),c(b,[]),se.set({msg:"File imported.",success:!0})})}le();var T=ws(),m=Se(T),f=i(m),k=p(i(f),2),B=p(k,2);bt(2),n(f);var P=p(f,2);pt(P,()=>e(b).length>0,C=>{var M=ys(),F=i(M);Ae(F,5,()=>e(b),Te,($,I,R)=>{var U=_s(),Y=i(U),q=i(Y),ge=Pe(()=>{var te;return`(${((te=u().find(ze=>ze.value===(e(I).speaker??0)))==null?void 0:te.label)??""})Set selection speaker`});we(q,{get title(){return e(ge)},icon:"speaker",get entities(){return u()},onEntitySelected:te=>{e(I).speaker=te.value,ve(()=>e(b))}});var oe=p(q,2);we(oe,{title:"Set selection emotion",get icon(){return e(I).emotion},get entities(){return h()},onEntitySelected:te=>{e(I).emotion=te.value,ve(()=>e(b))}});var be=p(oe,2),pe=i(be,!0);n(be),n(Y);var ce=p(Y,2);n(U),ee(()=>W(pe,e(I).file.name)),E("click",ce,()=>j(R)),J($,U)}),n(F),n(M),J(C,M)}),n(m);var z=p(m,2),X=p(i(z),2);n(z),ee(()=>yt(f,`w-full py-4 text-center flex flex-col items-center justify-center border-2 border-dashed rounded-lg ${e(v)?"border-blue-500":"border-gray-300"}`)),E("click",k,()=>{var C;return(C=document.getElementById("file-input"))==null?void 0:C.click()}),E("change",B,_),E("drop",f,d),E("dragover",f,w),E("dragleave",f,y),E("click",X,D),J(t,T),ie()}var Ds=G('<div class="inline-flex items-center justify-center gap-3"><button class="inline-flex size-8 items-center justify-center rounded border border-gray-100 bg-white text-gray-900 rtl:rotate-180"><span class="sr-only">Prev Page</span> <svg class=" w-4 h-4 text-gray-400"><use href="icons.svg#icon-previous"></use></svg></button> <p class="text-xs text-gray-900"> <span class="mx-0.25">/</span> </p> <button class="inline-flex size-8 items-center justify-center rounded border border-gray-100 bg-white text-gray-900 rtl:rotate-180"><span class="sr-only">Next Page</span> <svg class=" w-4 h-4 text-gray-400"><use href="icons.svg#icon-next"></use></svg></button></div>');function Ss(t,a){ne(a,!1);const s=fa(),r=()=>ga(re,"$sentencesStore",s),l=O();let x=H(a,"currentPage",8,1),u=H(a,"onNext",8),h=H(a,"OnPrevious",8);function b(){u()()}function v(){h()()}Fe(()=>r(),()=>{var A;c(l,Math.ceil((((A=r())==null?void 0:A.count)??1)/10))}),xt(),le();var d=Ds(),D=i(d),_=p(D,2),w=i(_),y=p(w,2);n(_);var j=p(_,2);n(d),ee(()=>{S(D,"hidden",x()===1),W(w,`${x()??""} `),W(y,` ${e(l)??""}`),S(j,"hidden",x()>=e(l))}),E("click",D,v),E("click",j,b),J(t,d),ie()}var As=G('<div class=" fixed top-0 z-10 flex items-center justify-start w-full"><div class="max-w-4xl mx-auto "><div class="bg-red-50 border-b-8 rounded"><div class="flex items-center"><div class="p-2"><div class="flex items-center"><div class="ml-2"><svg class="h-8 w-8 mr-2 cursor-pointer" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <p class="px-6 py-4 font-semibold text-lg"> </p></div></div></div></div></div></div>');function Es(t,a){let s=H(a,"msg",8,""),r=H(a,"success",8,!1),l=H(a,"show",8,!1);var x=As(),u=i(x),h=i(u),b=i(h),v=i(b),d=i(v),D=i(d),_=i(D);n(D);var w=p(D,2),y=i(w,!0);n(w),n(d),n(v),n(b),n(h),n(u),n(x),ee(()=>{u.hidden=!l(),S(h,"bg-red-50",!r()),S(h,"bg-green-50",r()),S(h,"border-red-900",!r()),S(h,"border-green-900",r()),S(_,"text-red-900",!r()),S(_,"text-green-900",r()),S(w,"text-red-900",!r()),S(w,"text-green-900",r()),W(y,s())}),J(t,x)}var Cs=G('<div class="flex items-center w-full px-4 space-x-4 border rounded-lg cursor-pointer peer-checked:bg-blue-100"><button class="flex items-center w-full space-x-4 h-12"><div><svg class="w-6 h-6"><use></use></svg></div> <div class="flex-grow justify-start flex capitalize"> </div> <div class="bg-gray-200 text-gray-800 text-sm font-semibold rounded-full px-3 py-1"> </div></button> <button aria-label="Delete this sub dataset" class="pr-2" title="Delete this sub dataset"><svg class=" w-5 h-5 text-red-700"><use href="icons.svg#icon-trash"></use></svg></button></div>'),Ns=G('<!> <div class="space-y-4"></div>',1);function Rs(t,a){ne(a,!1);let s="",r=H(a,"onSubDatasetSelected",8),l=H(a,"dataset",8),x=O(),u=Object.entries(fe),h=["text-blue-600","text-green-600","text-red-600"],b=O(!1),v=O(null),d=O({[fe.TRAIN]:0,[fe.TEST]:0,[fe.VALIDATION]:0});function D(m){c(x,m),r()(e(x))}function _(m){return fetch(`${s}/get_sentences/${Q.ALL}/1/1/${l().id}/${m}`).then(f=>f.json())}re.subscribe(m=>{if(!m)return;let f=m.subDataSet;vt(d,e(d)[f]=(m==null?void 0:m.count)??0),c(d,{...e(d)})});function w(){c(b,!1),c(v,null)}function y(m){const f=new FormData;f.append("dataset",l().id.toString()),f.append("sub_dataset",m),fetch(`${s}/delete_sub_dataset`,{method:"POST",body:f}).then(k=>k.json()).then(k=>{k.status==="success"?(re.set({count:0,sentence:[],subDataSet:m}),vt(d,e(d)[m]=0),se.set({msg:"Sub dataset deleted.",success:!0})):se.set({msg:"Failed to delete the sub dataset.",success:!0})})}function j(){c(b,!1),e(v)!==null&&(y(e(v)),c(v,null))}Fe(()=>ts(l()),()=>{if(l()!==void 0)for(const[m,f]of u)_(f).then(k=>{vt(d,e(d)[f]=k.count??0)})}),xt(),le();var A=Ns(),N=Se(A);Be(N,{get show(){return e(b)},onConfirmed:j,onRejected:w});var T=p(N,2);Ae(T,5,()=>u,Te,(m,f,k)=>{let B=()=>e(f)[1];var P=Cs(),z=i(P),X=i(z),C=i(X),M=i(C);n(C),n(X);var F=p(X,2),$=i(F,!0);n(F);var I=p(F,2),R=i(I,!0);n(I),n(z);var U=p(z,2);n(P),ee(()=>{S(P,"bg-blue-50",e(x)===B()),yt(X,h[k]),ke(M,"href",`icons.svg#icon-${B()??""}`),W($,B()),W(R,e(d)[B()])}),E("click",z,()=>D(B())),E("click",U,()=>{c(v,B()),c(b,!0)}),J(m,P)}),n(T),J(t,A),ie()}var Ts=G('<div class="flex w-full px-4 space-x-4 border rounded-lg h-12 items-center"><svg class=" w-6 h-6 text-gray-400"><use href="icons.svg#icon-speaker"></use></svg> <p class="text-gray-700 capitalize flex-grow"> </p> <div><button class="text-red-700 disabled:text-gray-400" aria-labelledby="Remove Speaker" title="Remove Speaker"><svg class=" w-6 h-6"><use href="icons.svg#icon-trash"></use></svg></button></div></div>'),js=G('<!> <form class="max-w-sm mx-auto"><input type="text" id="newSpaker" aria-describedby="helper-text-explanation" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Add spaker and hit enter..."></form> <div class="space-y-4 px-4 py-4"></div>',1);function Ls(t,a){ne(a,!1);let s="",r=O(""),l=O(!1),x=O(null);Me(()=>{h()});let u=O([]);function h(){fetch(`${s}/get_speakers`).then(N=>N.json()).then(N=>{c(u,N),ha.set(e(u))})}function b(){if(!e(r))return;const N=new FormData;N.append("speaker",e(r)),fetch(`${s}/add_speaker`,{method:"POST",body:N}).then(T=>T.json()).then(T=>{T.status==="success"?(c(r,""),h()):alert("Failed to save the speaker.")})}function v(N){const T=new FormData;T.append("id",N.id.toString()),fetch(`${s}/delete_speaker`,{method:"POST",body:T}).then(m=>m.json()).then(m=>{m.status==="success"?(c(x,null),h()):alert("Failed to delete the speaker.")})}function d(){c(l,!1),e(x)&&v(e(x))}function D(){c(l,!1),c(x,null)}le();var _=js(),w=Se(_);Be(w,{get show(){return e(l)},onConfirmed:d,onRejected:D});var y=p(w,2),j=i(y);Ie(j),n(y);var A=p(y,2);Ae(A,5,()=>e(u),Te,(N,T)=>{var m=Ts(),f=p(i(m),2),k=i(f,!0);n(f);var B=p(f,2),P=i(B);n(B),n(m),ee(()=>{W(k,e(T).name),P.disabled=e(T).id===1}),E("click",P,z=>{c(x,e(T)),c(l,!0)}),J(N,m)}),n(A),wt(j,()=>e(r),N=>c(r,N)),E("keydown",j,N=>{N.key==="Enter"&&b()}),J(t,_),ie()}var Os=G(`<tr tabindex="0" class="focus:outline-none h-16 border border-gray-100 rounded"><td><div class="ml-5"><div class="bg-gray-200 rounded-sm w-5 h-5 flex flex-shrink-0 justify-center items-center relative"><input placeholder="checkbox" type="checkbox" class="focus:opacity-100 checkbox opacity-0 absolute cursor-pointer w-full h-full svelte-dl6v00"> <div class="check-icon hidden bg-indigo-700 text-white rounded-sm svelte-dl6v00"><svg class=" w-4 h-4 text-gray-400"><use href="icons.svg#icon-checked"></use></svg></div></div></div></td><td><div class="flex items-center pl-5"><p class="text-base font-medium leading-none text-gray-700 mr-2 p-4 focus:border
                       border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" contenteditable="true"> </p></div></td><td><!></td><td><div class="flex items-center pl-5 gap-2"><!> <p class="text-gray-700 capitalize"> </p></div></td><td><div class="flex items-center pl-5 gap-2"><!> <p class="text-gray-700 capitalize"> </p></div></td><td class="pl-5"><div class="text-sm text-gray-600 flex items-center gap-1"><svg class=" text-gray-600 w-4 h-4"><use href="icons.svg#icon-clock"></use></svg> </div></td><td class="pl-5"><button class="py-3 px-3 text-sm focus:outline-none leading-none rounded"> </button></td><td class="pl-4"><button aria-label="Microphone" title="Start recording"><svg class=" w-6 h-6 text-gray-600"><use href="icons.svg#icon-mic"></use></svg></button> <button class="mic-button p-2" aria-label="Microphone Disabled" title="Stop recording"><svg class=" w-6 h-6 text-red-700"><use href="icons.svg#icon-mic"></use></svg></button> <button aria-label="Delete the sentence" title="Delete the sentence"><svg class=" w-6 h-6 text-red-700"><use href="icons.svg#icon-trash"></use></svg></button> <button aria-labelledby="Delete audio only" title="Delete audio only"><svg class=" w-6 h-6 text-gray-700"><use href="icons.svg#icon-wav"></use></svg></button></td></tr> <tr class="h-3"></tr>`,1),Ps=G('<!> <div class="flex w-full"><div class="sm:px-6 w-3/4"><div class="px-4 md:px-10 py-4 md:py-7"><div class="flex items-center justify-between"><div class="flex focus:outline-none text-base sm:text-lg md:text-xl lg:text-2xl font-bold leading-normal text-gray-800"><div class="flex place-items-center">Dataset:</div> <div class="flex place-items-center pl-2"><!></div> <div class="flex place-items-center pl-2"><button aria-label="Export the dataset" title="Export the dataset"><svg class=" w-6 h-6 text-gray-600"><use href="icons.svg#icon-export"></use></svg></button></div></div></div></div> <div class="pt-6 pb-4"><form class="max-w-sm mx-auto"><label for="nexwSentance" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Add your sentence and hit enter</label> <input type="text" id="newSentance" aria-describedby="helper-text-explanation" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Your sentence here..."></form></div> <div class="bg-white py-4 md:py-7 px-4 md:px-8 xl:px-10"><div class="sm:flex items-center justify-between"><div class="flex items-center"><button class="rounded-full focus:outline-none focus:ring-2 focus:bg-indigo-50 focus:ring-indigo-800 ml-4 sm:ml-8"><div class="py-2 px-8 text-gray-600 hover:text-indigo-700 hover:bg-indigo-100 rounded-full"><p>All</p></div></button> <button class="rounded-full focus:outline-none focus:ring-2 focus:bg-indigo-50 focus:ring-indigo-800 ml-4 sm:ml-8"><div class="py-2 px-8 text-gray-600 hover:text-indigo-700 hover:bg-indigo-100 rounded-full"><p>Recoded</p></div></button> <button class="rounded-full focus:outline-none focus:ring-2 focus:bg-indigo-50 focus:ring-indigo-800 ml-4 sm:ml-8"><div class="py-2 px-8 text-gray-600 hover:text-indigo-700 hover:bg-indigo-100 rounded-full"><p>Pending</p></div></button></div> <div class="flex justify-end gap-4"><!> <!> <button aria-labelledby="Delete Selection" title="Delete Selection" class="px-2 py-2 text-xs disabled:bg-gray-300 font-medium text-white bg-blue-500 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400"><svg class=" w-4 h-4 text-white disabled:text-gray-400"><use href="icons.svg#icon-trash"></use></svg></button></div></div> <div class="mt-7 overflow-x-auto"><div class="flex justify-end pb-2"><!></div> <table class="w-full whitespace-nowrap"><tbody></tbody></table></div></div></div> <div class="w-1/4 px-4 "><div class="flex flex-col"><div class="flex-grow pt-10"><h4 class="flex w-full justify-center text-lg font-semibold text-gray-800 dark:text-gray-300 pb-6">Subsets Manager</h4> <div class="px-4"><!></div> <!></div></div> <div class=" pt-10"><h4 class="flex w-full justify-center text-lg font-semibold text-gray-800 dark:text-gray-300 pb-6">Speakers Manager</h4> <!></div></div></div> <!>',1);function $s(t,a){ne(a,!1);const s=fa(),r=()=>ga(re,"$sentencesStore",s),l=O(),x=[];let u="",h=O([]),b=null,v=O(),d=O(null),D=O(!1),_=O(!1),w=O(!1),y,j=[],A=O(1),N=10,T=!0,m=O(Q.ALL),f=O(""),k=O("");Me(()=>{ze(),se.subscribe(g=>{if(!g.msg)return;c(_,!0),c(k,g.msg),c(w,g.success);let o=setTimeout(()=>{c(_,!1),clearTimeout(o)},3e3)})});function B(){T||P(e(m))}function P(g){c(m,g),fetch(`${u}/get_sentences/${g}/${e(A)}/${N}/${e(v).id}/${e(d)}`).then(o=>o.json()).then(o=>{re.set(o),T=!1})}function z(g){try{re.update(o=>({...o,sentence:o.sentence.map(L=>L.id===g.id?{...L,isRecording:!0}:L)})),navigator.mediaDevices.getUserMedia({audio:!0}).then(o=>{y=new MediaRecorder(o),y.ondataavailable=L=>{j.push(L.data)},y.onstop=()=>{const L=new Blob(j,{type:"audio/webm"});q(L,g),j=[]},y.start()})}catch{se.set({msg:"Please allow access to the microphone.",success:!1})}}function X(){c(A,1),P(Q.ALL)}function C(){c(A,1),P(Q.RECORDED)}function M(){c(A,1),P(Q.PENDIND)}function F(){y&&y.state!=="inactive"&&y.stop()}function $(){c(D,!1),b=null,c(h,[])}function I(g){c(D,!0),typeof g=="object"&&!Array.isArray(g)?(c(h,[]),b=g):(Array.isArray(g)&&c(h,[...g]),b=null)}function R(){if(c(D,!1),e(h).length>0){Y();return}U()}function U(){if(!b)return;const g=new FormData;g.append("id",b.id.toString()),g.append("file",b.file),g.append("dataset",e(v).name),g.append("subset",e(d)??""),fetch(`${u}/removeRecording`,{method:"POST",body:g}).then(o=>o.json()).then(o=>{b&&(o.status==="success"?b.recorded=!1:se.set({msg:"Failed to remove the recording.",success:!1}),b.isRecording=!1,re.update(L=>({...L,sentence:L.sentence.map(ae=>ae.id===((b==null?void 0:b.id)??-1)?{...ae,isRecording:!1}:ae)})),b=null)})}function Y(){if(e(h).length===0)return;let g=e(h).map(L=>L.id);const o=new FormData;o.append("transcription",g.join(",")),o.append("dataset",e(v).name),o.append("subset",e(d)??""),fetch(`${u}/delete_transcriptions`,{method:"POST",body:o}).then(L=>L.json()).then(L=>{L.status==="success"?(P(e(m)),c(h,[])):se.set({msg:"Failed to delete the selected sentences.",success:!1})})}function q(g,o){const L=new FormData;L.append("audio",g),L.append("id",o.id.toString()),L.append("file",o.file),L.append("dataset",e(v).name),L.append("subset",e(d)??""),fetch(`${u}/upload_audio`,{method:"POST",body:L}).then(ae=>ae.json()).then(ae=>{ae.status==="success"?(o.recorded=!0,se.set({msg:"Please allow access to the microphone.",success:!0}),P(e(m))):se.set({msg:"Failed to save the recording.",success:!1})})}function ge(g){c(d,null),c(v,g),re.set({count:0,sentence:[],subDataSet:fe.TRAIN})}function oe(g){c(d,g),P(Q.ALL)}function be(){var ae;let g=[{transcription:e(f).trim(),emotion:De.NEUTRAL,speaker:((ae=e(te)[0])==null?void 0:ae.value)??1}],o=JSON.stringify(g,null,2);const L=new FormData;L.append("transcription",o),L.append("sub_dataset",e(d)??""),L.append("dataset",e(v).id.toString()),fetch(`${u}/import_transcriptions`,{method:"POST",body:L}).then(ue=>ue.json()).then(ue=>{ue.status==="success"?P(e(m)):se.set({msg:"Failed to add the sentance.",success:!1})}),c(f,"")}function pe(){const g=new FormData;g.append("datasetId",e(v).id.toString()),g.append("subDataset",e(d)??""),g.append("datasetName",e(v).name),fetch(`${u}/export_dataset`,{method:"POST",body:g}).then(o=>o.json()).then(o=>{o.status==="success"?P(e(m)):se.set({msg:"Failed to export the dataset.",success:!1})}),c(f,"")}let ce=Object.entries(De).map(g=>({value:g[1],label:g[1],icon:g[1]})),te=O([]);function ze(){ha.subscribe(g=>{try{c(te,g==null?void 0:g.map(o=>({value:o.id,label:o.name,icon:"speaker"})))}catch(o){console.log(o)}})}function me(g){const o=new FormData;o.append("speaker",g.speaker.toString()),o.append("emotion",g.emotion),o.append("transcription",g.transcription),o.append("id",g.id.toString()),fetch(`${u}/update_sentance`,{method:"POST",body:o}).then(L=>L.json()).then(L=>{L.status==="success"?P(e(m)):se.set({msg:"Failed to update the sentance.",success:!1})})}Fe(()=>r(),()=>{c(l,r())}),Fe(()=>e(A),()=>{e(A),B()}),xt(),le();var kt=Ps();rs(g=>{as.title="Audio DataSet Manager"});var Dt=Se(kt);Be(Dt,{get show(){return e(D)},onConfirmed:R,onRejected:$});var Ue=p(Dt,2),He=i(Ue),$e=i(He),St=i($e),At=i(St),Ke=p(i(At),2),xa=i(Ke);ms(xa,{onDatasetSelected:ge}),n(Ke);var Et=p(Ke,2),Ct=i(Et);n(Et),n(At),n(St),n($e);var je=p($e,2),Nt=i(je),Ye=p(i(Nt),2);Ie(Ye),n(Nt),n(je);var Rt=p(je,2),Ve=i(Rt),qe=i(Ve),he=i(qe),xe=p(he,2),Ee=p(xe,2);n(qe);var Je=p(qe,2),Tt=i(Je),_a=Pe(()=>e(h).length===0);we(Tt,{title:"Set selection speaker",icon:"speaker",get disabled(){return e(_a)},iconClass:"w-4 h-4 text-white disabled:text-gray-400",buttonClass:"px-2 py-2 text-xs disabled:bg-gray-300 font-medium text-white bg-blue-500 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400",get entities(){return e(te)},onEntitySelected:g=>{e(h).forEach(o=>{o.speaker=g.value,me(o)})}});var jt=p(Tt,2),ya=Pe(()=>e(h).length===0);we(jt,{title:"Set selection emotion",get disabled(){return e(ya)},get icon(){return De.NEUTRAL},iconClass:"w-4 h-4 text-white disabled:text-gray-400",buttonClass:"px-2 py-2 text-xs disabled:bg-gray-300 font-medium text-white bg-blue-500 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400",entities:ce,onEntitySelected:g=>{e(h).forEach(o=>{o.emotion=g.value,me(o)})}});var Ge=p(jt,2);n(Je),n(Ve);var Xe=p(Ve,2),Qe=i(Xe),wa=i(Qe);Ss(wa,{onNext:()=>ta(A),get currentPage(){return e(A)},OnPrevious:()=>ta(A,-1)}),n(Qe);var Lt=p(Qe,2),Ot=i(Lt);Ae(Ot,5,()=>{var g;return((g=e(l))==null?void 0:g.sentence)??[]},g=>g.id,(g,o)=>{var L=Os(),ae=Se(L),ue=i(ae),It=i(ue),Mt=i(It),Le=i(Mt);Ie(Le);var Bt;bt(2),n(Mt),n(It),n(ue);var tt=p(ue),zt=i(tt),Ce=i(zt),Ea=i(Ce,!0);n(Ce),n(zt),n(tt);var at=p(tt),Ca=i(at);pt(Ca,()=>e(o).recorded,K=>{var V=Pe(()=>u+"/"+e(v).name+"/"+e(d)+"/audio/"+e(o).file);fs(K,{get src(){return e(V)}})}),n(at);var st=p(at),Ut=i(st),Ht=i(Ut);we(Ht,{icon:"speaker",get entities(){return e(te)},onEntitySelected:K=>{e(o).speaker_name=K.label,ve(()=>{var V;return(V=e(l))==null||V.sentence,r()}),e(o).speaker=K.value,ve(()=>{var V;return(V=e(l))==null||V.sentence,r()}),me(e(o))}});var $t=p(Ht,2),Na=i($t,!0);n($t),n(Ut),n(st);var rt=p(st),Kt=i(rt),Yt=i(Kt);we(Yt,{get icon(){return e(o).emotion},entities:ce,onEntitySelected:K=>{e(o).emotion=K.value,ve(()=>{var V;return(V=e(l))==null||V.sentence,r()}),me(e(o))}});var Vt=p(Yt,2),Ra=i(Vt,!0);n(Vt),n(Kt),n(rt);var nt=p(rt),it=i(nt),Ta=p(i(it));ee(()=>{var K;return W(Ta,` ${((K=e(o).end_time)==null?void 0:K.toFixed(2))??""}s`)}),n(it),n(nt);var lt=p(nt),_e=i(lt),ja=i(_e,!0);n(_e),n(lt);var qt=p(lt),ot=i(qt),dt=p(ot,2),Jt=p(dt,2),Gt=p(Jt,2);n(qt),n(ae),bt(2),ee(()=>{Bt!==(Bt=e(o))&&(Le.value=(Le.__value=e(o))==null?"":e(o)),W(Ea,e(o).transcription),W(Na,e(o).speaker_name),W(Ra,e(o).emotion),S(it,"hidden",!e(o).recorded),S(_e,"bg-red-100",!e(o).recorded),S(_e,"text-red-700",!e(o).recorded),S(_e,"bg-green-100",e(o).recorded),S(_e,"text-green-700",e(o).recorded),W(ja,e(o).recorded?"Recoded":"Pending"),S(ot,"hidden",e(o).isRecording),S(dt,"hidden",!e(o).isRecording),S(Gt,"hidden",!e(o).recorded)}),us(x,[],Le,()=>(e(o),e(h)),K=>c(h,K)),E("click",Ce,K=>{var V;(V=K.target)==null||V.setAttribute("contenteditable","true")}),E("keydown",Ce,K=>{var V;if(K.key==="Enter"){K.preventDefault();const ye=K.target;ye.setAttribute("contenteditable","false"),e(o).transcription.trim()!==((V=ye.textContent)==null?void 0:V.trim())&&(e(o).transcription=ye.textContent??"",ve(()=>{var Ne;return(Ne=e(l))==null||Ne.sentence,r()}),me(e(o)))}}),E("blur",Ce,K=>{var ye;const V=K.target;e(o).transcription.trim()!==((ye=V.textContent)==null?void 0:ye.trim())&&(e(o).transcription=V.textContent??"",ve(()=>{var Ne;return(Ne=e(l))==null||Ne.sentence,r()}),me(e(o)))}),E("click",ot,K=>z(e(o))),E("click",dt,K=>F()),E("click",Jt,K=>I([e(o)])),E("click",Gt,K=>I(e(o))),J(g,L)}),n(Ot),n(Lt),n(Xe),n(Rt),n(He);var Pt=p(He,2),We=i(Pt),Ze=i(We),et=p(i(Ze),2),ka=i(et);Rs(ka,{get dataset(){return e(v)},onSubDatasetSelected:oe}),n(et);var Da=p(et,2);pt(Da,()=>e(d),g=>{ks(g,{get dataset(){return e(v)},get speakers(){return e(te)},emotions:ce,get subDataset(){return e(d)},onFileUploded:o=>{o&&P(e(m))}})}),n(Ze),n(We);var Ft=p(We,2),Sa=p(i(Ft),2);Ls(Sa,{}),n(Ft),n(Pt),n(Ue);var Aa=p(Ue,2);Es(Aa,{get msg(){return e(k)},get success(){return e(w)},get show(){return e(_)}}),ee(()=>{var g;S(Ct,"hidden",!e(d)),S(je,"hidden",!e(d)),S(he,"bg-indigo-50",e(m)===Q.ALL),S(he,"ring-indigo-800",e(m)===Q.ALL),S(he,"ring-2",e(m)===Q.ALL),S(he,"hidden",!e(d)),S(xe,"bg-indigo-50",e(m)===Q.RECORDED),S(xe,"ring-indigo-800",e(m)===Q.RECORDED),S(xe,"ring-2",e(m)===Q.RECORDED),S(xe,"hidden",!e(d)),S(Ee,"bg-indigo-50",e(m)===Q.PENDIND),S(Ee,"ring-indigo-800",e(m)===Q.PENDIND),S(Ee,"ring-2",e(m)===Q.PENDIND),S(Ee,"hidden",!e(d)),S(Je,"hidden",!e(d)),Ge.disabled=e(h).length===0,S(Ge,"hidden",!e(d)),S(Xe,"hidden",!e(d)),S(Ze,"blur-sm",!((g=e(v))!=null&&g.id))}),E("click",Ct,pe),wt(Ye,()=>e(f),g=>c(f,g)),E("keydown",Ye,g=>{g.key==="Enter"&&be()}),E("click",he,X),E("click",xe,C),E("click",Ee,M),E("click",Ge,g=>I(e(h))),J(t,kt),ie()}export{$s as component};
